<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mr. K's Traffic Sign Challenge</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --purple-start: #8b5cf6;
      --purple-mid: #6366f1;
      --blue-mid: #3b82f6;
      --cyan: #06b6d4;
      --green: #10b981;
      --pink: #ec4899;
      --dark: #0f172a;
      --card-dark: #1e293b;
      --text-light: #f1f5f9;
      --text-muted: #94a3b8;
      --correct: #22c55e;
      --wrong: #ef4444;
    }

    body {
      font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      color: var(--text-light);
      overflow-x: hidden;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    /* Landing Page */
    .landing-page {
      text-align: center;
      animation: fadeIn 0.6s ease-out;
    }

    .hero-title {
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 800;
      background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 12px;
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .hero-subtitle {
      font-size: clamp(1rem, 2.5vw, 1.25rem);
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 40px;
      font-weight: 300;
    }

    .input-card {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 40px 30px;
      margin-bottom: 30px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .input-group {
      margin-bottom: 24px;
      text-align: left;
    }

    .input-label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
      color: rgba(255, 255, 255, 0.95);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .input-field {
      width: 100%;
      padding: 14px 18px;
      border-radius: 12px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 16px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .input-field:focus {
      outline: none;
      border-color: var(--cyan);
      background: rgba(255, 255, 255, 0.15);
      box-shadow: 0 0 20px rgba(6, 182, 212, 0.4);
    }

    .input-field::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .start-button {
      width: 100%;
      padding: 18px;
      font-size: 18px;
      font-weight: 700;
      border: none;
      border-radius: 16px;
      background: linear-gradient(135deg, var(--green) 0%, var(--cyan) 100%);
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .start-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px rgba(16, 185, 129, 0.5);
    }

    .start-button.disabled {
      opacity: 0.4;
      cursor: not-allowed;
      filter: grayscale(0.8);
      transform: scale(0.98);
      pointer-events: none;
    }

    /* Quiz Page */
    .quiz-page {
      animation: slideInUp 0.5s ease-out;
    }

    .stats-bar {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      padding: 20px;
      margin-bottom: 24px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 16px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .stat-item {
      text-align: center;
    }

    .stat-label {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 4px;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 800;
      background: linear-gradient(135deg, var(--cyan) 0%, var(--green) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .progress-container {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 999px;
      height: 8px;
      margin-bottom: 24px;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--purple-start) 0%, var(--cyan) 100%);
      transition: width 0.5s ease;
      border-radius: 999px;
    }

    .sign-card {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 30px;
      margin-bottom: 24px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .sign-container {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 250px;
    }

    .sign-image {
      max-width: 200px;
      max-height: 200px;
      width: 100%;
      height: auto;
      transition: transform 0.3s ease;
    }

    .question-text {
      font-size: clamp(1.1rem, 3vw, 1.5rem);
      font-weight: 600;
      text-align: center;
      margin-bottom: 24px;
      color: white;
    }

    .choices-grid {
      display: grid;
      gap: 12px;
    }

    .choice-button {
      width: 100%;
      padding: 16px 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 16px;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 16px;
      text-align: left;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .choice-button:hover:not(.disabled) {
      background: rgba(255, 255, 255, 0.2);
      transform: translateX(4px);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .choice-button.disabled {
      cursor: not-allowed;
    }

    .choice-button.correct {
      background: rgba(34, 197, 94, 0.3);
      border-color: var(--correct);
      animation: pulse 0.5s ease;
    }

    .choice-button.wrong {
      background: rgba(239, 68, 68, 0.3);
      border-color: var(--wrong);
      animation: shake 0.4s ease;
    }

    .feedback {
      text-align: center;
      margin-top: 20px;
      font-size: 18px;
      font-weight: 600;
      min-height: 30px;
      animation: fadeIn 0.4s ease;
    }

    .next-button {
      width: 100%;
      padding: 16px;
      font-size: 18px;
      font-weight: 700;
      border: none;
      border-radius: 16px;
      background: linear-gradient(135deg, var(--purple-start) 0%, var(--blue-mid) 100%);
      color: white;
      cursor: pointer;
      margin-top: 20px;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4);
    }

    .next-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px rgba(139, 92, 246, 0.5);
    }

    /* Results Page */
    .results-page {
      text-align: center;
      animation: fadeIn 0.6s ease-out;
    }

    .results-card {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 40px 30px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .results-title {
      font-size: clamp(2rem, 4vw, 2.5rem);
      font-weight: 800;
      margin-bottom: 16px;
    }

    .student-name-display {
      font-size: 20px;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 30px;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .result-stat {
      background: rgba(255, 255, 255, 0.1);
      padding: 24px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .result-stat-label {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }

    .result-stat-value {
      font-size: 36px;
      font-weight: 800;
      background: linear-gradient(135deg, var(--cyan) 0%, var(--green) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .restart-button {
      width: 100%;
      max-width: 400px;
      padding: 18px;
      font-size: 18px;
      font-weight: 700;
      border: none;
      border-radius: 16px;
      background: linear-gradient(135deg, var(--green) 0%, var(--cyan) 100%);
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
      margin: 0 auto;
      display: block;
    }

    .restart-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 15px 40px rgba(16, 185, 129, 0.5);
    }

    .celebration {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 80px;
      animation: celebrate 0.6s ease-out;
      pointer-events: none;
      z-index: 1000;
    }

    .hidden {
      display: none !important;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideInUp {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-8px); }
      75% { transform: translateX(8px); }
    }

    @keyframes celebrate {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5) rotate(0deg);
      }
      50% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.2) rotate(180deg);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8) rotate(360deg);
      }
    }

    /* Responsive */
    @media (max-width: 640px) {
      .container { padding: 16px; }

      .input-card,
      .sign-card,
      .results-card {
        padding: 24px 20px;
      }

      .stats-bar {
        grid-template-columns: repeat(2, 1fr);
      }

      .sign-image {
        max-width: 160px;
        max-height: 160px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
      <h1 class="hero-title">Mr. K's Traffic Sign Challenge</h1>
      <p class="hero-subtitle">Helping students build real world road safety skills</p>

      <div class="input-card">
        <div class="input-group">
          <label class="input-label" for="studentName">Student Name</label>
          <input
            type="text"
            id="studentName"
            class="input-field"
            placeholder="Enter your first and last name"
            autocomplete="name"
          >
        </div>

        <div class="input-group">
          <label class="input-label" for="schoolName">School Name</label>
          <input
            type="text"
            id="schoolName"
            class="input-field"
            placeholder="Enter your school name"
            autocomplete="organization"
          >
        </div>

        <button id="startQuizBtn" class="start-button disabled">
          Start Challenge
        </button>
      </div>
    </div>

    <!-- Quiz Page -->
    <div id="quizPage" class="quiz-page hidden">
      <div class="stats-bar">
        <div class="stat-item">
          <div class="stat-label">Score</div>
          <div class="stat-value" id="scoreDisplay">0</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Streak</div>
          <div class="stat-value" id="streakDisplay">0ðŸ”¥</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Progress</div>
          <div class="stat-value" id="progressDisplay">0%</div>
        </div>
      </div>

      <div class="progress-container">
        <div id="progressBar" class="progress-bar" style="width: 0%"></div>
      </div>

      <div class="sign-card">
        <div class="sign-container">
          <img id="signImage" class="sign-image" src="" alt="Traffic Sign">
        </div>

        <div class="question-text" id="questionText"></div>

        <div class="choices-grid" id="choicesContainer"></div>

        <div class="feedback" id="feedback"></div>

        <button id="nextButton" class="next-button hidden">Next Sign â†’</button>
      </div>
    </div>

    <!-- Results Page -->
    <div id="resultsPage" class="results-page hidden">
      <div class="results-card">
        <h2 class="results-title">ðŸŽ‰ Challenge Complete! ðŸŽ‰</h2>
        <p class="student-name-display" id="studentNameResult"></p>

        <div class="results-grid">
          <div class="result-stat">
            <div class="result-stat-label">Total Score</div>
            <div class="result-stat-value" id="finalScore">0</div>
          </div>
          <div class="result-stat">
            <div class="result-stat-label">Accuracy</div>
            <div class="result-stat-value" id="accuracyDisplay">0%</div>
          </div>
          <div class="result-stat">
            <div class="result-stat-label">Questions</div>
            <div class="result-stat-value" id="totalQuestions">0</div>
          </div>
        </div>

        <button id="restartButton" class="restart-button">
          Try Again
        </button>
      </div>
    </div>
  </div>

<script>
  // Traffic Signs Data â€“ filenames match the traffic-signs folder
  const signs = [
    {
      file: "traffic-signs/Stop_Sign.png",
      question: "What should you do at this sign?",
      choices: [
        "Slow down and continue",
        "Stop fully, then go when it is safe",
        "Speed up",
        "Only stop if another car is coming"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/All_Way_Stop_Sign.png",
      question: "What does this all way stop sign tell drivers?",
      choices: [
        "Only the main street must stop",
        "All directions must stop and take turns",
        "Only cars turning left must stop",
        "Pedestrians do not have the right of way here"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Stop_Ahead.png",
      question: "What is this sign warning you about?",
      choices: [
        "A broken stop light ahead",
        "There is a stop sign ahead, so prepare to stop",
        "The road is closed ahead",
        "You do not need to stop at the next sign"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Yield_Sign.png",
      question: "What should you do at a yield sign?",
      choices: [
        "Always stop and wait for a green light",
        "Speed up to merge faster",
        "Slow down and let other traffic or people go first if needed",
        "Ignore it if no one is honking"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/Yield_Ahead.png",
      question: "What does this sign tell you?",
      choices: [
        "You already passed a yield sign",
        "There is a yield sign coming up, be ready to slow down",
        "The road will end soon",
        "Pedestrians are not allowed ahead"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Speed_Limit_50.png",
      question: "What does this speed limit sign mean?",
      choices: [
        "You must drive at least 50 miles per hour",
        "You must not drive faster than 50 miles per hour",
        "You must drive exactly 50 miles per hour",
        "Only trucks can drive 50 miles per hour"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Minimum_Speed_Limit_sign.png",
      question: "What does a minimum speed limit sign tell drivers?",
      choices: [
        "You must not drive faster than this speed",
        "You should drive at least this speed if it is safe",
        "You must stop at the next light",
        "You must pull over if you drive slower"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/School_Zone_Sign.png",
      question: "How should you drive when you see this school zone sign?",
      choices: [
        "Speed up to pass the school quickly",
        "Keep normal speed and do not watch for students",
        "Slow down and watch carefully for students near the road",
        "Only watch for cars, not pedestrians"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/School_Crossing_Ahead_Sign.png",
      question: "What does this sign tell you?",
      choices: [
        "There is a train crossing ahead",
        "Students may be crossing the street ahead",
        "Only buses can use this road",
        "The school is closed ahead"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/School_Speed_Limit.png",
      question: "What should you do when you see this school speed limit sign and children are present?",
      choices: [
        "Ignore the sign and keep your normal speed",
        "Drive slower at or below the posted school speed limit",
        "Stop in the middle of the road",
        "Only slow down if a police car is near"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Pedestrian_Crossing_Only_Sign.png",
      question: "What does this pedestrian crossing sign mean?",
      choices: [
        "People are never allowed to cross here",
        "Only cars may turn left here",
        "This is a place where people may cross the street",
        "Only bicycles can use this area"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/No_Pedestrian_Crossing_Sign.png",
      question: "What does this sign mean?",
      choices: [
        "People must not cross the street here",
        "Only people may use this road",
        "Bicycles are not allowed here",
        "The sidewalk is closed"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/Railroad_Crossing_Sign.png",
      question: "How should you respond to this railroad crossing sign?",
      choices: [
        "Speed across the tracks without looking",
        "Stop in the middle of the tracks",
        "Look and listen for trains and be ready to stop",
        "Only buses need to slow down here"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/slippery_when_wet.png",
      question: "What does this slippery when wet sign warn you about?",
      choices: [
        "The road is always icy",
        "The road can be more slippery when it is wet, so slow down",
        "You should drive faster to get through quickly",
        "Only trucks may use this lane"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Winding_Road.png",
      question: "What does this winding road sign mean?",
      choices: [
        "The road ahead is straight",
        "There are several curves ahead, so drive with care",
        "The road is closed",
        "You must make a U turn"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Double_Curve_Sign.png",
      question: "What does this double curve sign tell you?",
      choices: [
        "Two roads meet ahead",
        "There is a left curve followed by a right curve ahead",
        "The road is now one way",
        "The road ends after two blocks"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Left_Curve_Sign.png",
      question: "What does this left curve sign tell you?",
      choices: [
        "The road curves to the left ahead",
        "You must turn right only",
        "You are entering a parking lot",
        "The road goes downhill only"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/Right_Curve_Sign.png",
      question: "What does this right curve sign tell you?",
      choices: [
        "The road curves to the right ahead",
        "There is a stop sign ahead",
        "You must back up",
        "Only bicycles may use this road"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/Sharp_Left_Turn_Sign.png",
      question: "How should you drive when you see this sharp left turn sign?",
      choices: [
        "Keep the same high speed",
        "Slow down and prepare for a sharp left turn",
        "Stop in the lane and wait",
        "Make a U turn instead"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Sharp_Right_Turn_Sign.png",
      question: "How should you drive when you see this sharp right turn sign?",
      choices: [
        "Drive faster through the turn",
        "Slow down and prepare for a sharp right turn",
        "Stop completely and wait for a green light",
        "Change to the left lane quickly"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Side_Road_Sign.png",
      question: "What does this side road sign show?",
      choices: [
        "A driveway is ahead",
        "Another road joins from the side ahead",
        "The road ends here",
        "There is a sharp curve only"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Cross_Road_Sign.png",
      question: "What does this cross road sign tell you?",
      choices: [
        "The road is closed",
        "There is an intersection ahead where another road crosses",
        "Only pedestrians may cross ahead",
        "A railroad is crossing the road"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/T_Intersection_Sign.png",
      question: "What does this T intersection sign tell drivers?",
      choices: [
        "You can continue straight ahead",
        "The road you are on will end, so you must turn left or right",
        "Only trucks may continue",
        "There is a railroad crossing"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Y_Intersection_Sign.png",
      question: "What does this Y intersection sign show?",
      choices: [
        "The road is closed",
        "The road splits into two directions ahead",
        "Only left turns are allowed",
        "There is a roundabout ahead"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Merging_Traffic_Sign.png",
      question: "What should you watch for at this merging traffic sign?",
      choices: [
        "Trains crossing the road",
        "Traffic joining your lane from another lane",
        "Pedestrians crossing only",
        "A stop sign ahead"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Right_Lane_Ends.png",
      question: "What does this right lane ends sign mean?",
      choices: [
        "The left lane is closed",
        "The right lane will end, merge left when it is safe",
        "There is a toll booth ahead",
        "Bicycles only in the right lane"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Lane_Use_Control_Sign.png",
      question: "What do lane use control signs usually tell drivers?",
      choices: [
        "Which lanes may turn or go straight",
        "Where to park near the curb",
        "Where restrooms are located",
        "When the freeway closes"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/Divided_Highway_Ahead_Warning_Sign.png",
      question: "What does this divided highway ahead sign mean?",
      choices: [
        "The road will no longer be divided",
        "You are leaving the highway",
        "A divided highway starts ahead with a median in the center",
        "Trucks must turn around"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/Divided_Highway_Ends_Sign.png",
      question: "What does this divided highway ends sign tell you?",
      choices: [
        "The road will now have two one way streets",
        "The divided highway ends, traffic will meet in both directions again",
        "The road is closed",
        "Only buses may continue"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Narrow_Bridge_Ahead.png",
      question: "What should you expect when you see this narrow bridge ahead sign?",
      choices: [
        "A wider road ahead",
        "A bridge that has room for many lanes",
        "A bridge that is more narrow than the road, so use extra care",
        "A drawbridge that opens"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/Hill_Ahead_Sign.png",
      question: "What does this hill sign warn drivers about?",
      choices: [
        "A steep hill or downgrade ahead, be ready to control your speed",
        "A bump in the road",
        "A parking lot ahead",
        "A railroad crossing"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/Bump_Sign.png",
      question: "How should you drive when you see this bump sign?",
      choices: [
        "Speed up",
        "Slow down to go over the bump safely",
        "Stop and back up",
        "Turn around immediately"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Loose_Gravel_Sign.png",
      question: "What does this loose gravel sign mean?",
      choices: [
        "The road is closed",
        "Gravel on the road may cause skids, so slow down",
        "Only trucks may use this road",
        "Bicycles are not allowed"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Soft_Shoulder_Sign.png",
      question: "What does a soft shoulder sign tell drivers?",
      choices: [
        "The shoulder is safe for parking",
        "The shoulder may not support a vehicle, avoid driving on it",
        "The road is very rough",
        "Only trucks may use the shoulder"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Low_Clearance_Sign.png",
      question: "Who should pay extra attention to this low clearance sign?",
      choices: [
        "Only bicyclists",
        "Drivers of tall vehicles such as trucks or buses",
        "Pedestrians",
        "Motorcycles only"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Road_Narrows.png",
      question: "What does this road narrows sign tell you?",
      choices: [
        "The road will get wider",
        "The number of lanes will double",
        "The road will become more narrow, so use extra care",
        "The road is closed"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/Pavement_Ends_Sign.png",
      question: "What does this pavement ends sign warn you about?",
      choices: [
        "The road will become smoother",
        "The paved road will change to gravel or dirt",
        "The road is closed ahead",
        "Only trucks may continue"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Road_Work_Ahead_Sign.png",
      question: "What does this road work ahead sign mean?",
      choices: [
        "The road is a school zone",
        "Workers and construction may be on or near the road, slow down",
        "The road is closed to all cars",
        "You must turn around now"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Flagger_Ahead_Sign.png",
      question: "What should you be ready for when you see this flagger ahead sign?",
      choices: [
        "A police officer writing tickets",
        "A worker who is directing traffic with a sign or flag",
        "A toll booth ahead",
        "A rest area"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Workers_Ahead_Sign.png",
      question: "How should you respond to this workers ahead sign?",
      choices: [
        "Speed up to pass the area",
        "Slow down and be ready for workers or equipment near the road",
        "Ignore it if you are late",
        "Use your horn the whole time"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Detour_Ahead_Sign.png",
      question: "What does this detour ahead sign tell drivers?",
      choices: [
        "You must park here",
        "There is a different route you must follow soon",
        "Only buses may continue straight",
        "The road is now a one way street"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Road_Closed_Sign.png",
      question: "What does this road closed sign mean?",
      choices: [
        "Only trucks may pass",
        "Only local traffic may pass",
        "The road is closed to all through traffic",
        "You may park in the middle of the road"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/Do_Not_Enter_Sign.png",
      question: "What does this do not enter sign tell you?",
      choices: [
        "You may turn left only",
        "You are not allowed to enter this road from this direction",
        "Only buses may enter",
        "Parking is allowed here"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Wrong_Way_Sign.png",
      question: "What should you do if you see this wrong way sign while driving?",
      choices: [
        "Keep going, the sign is optional",
        "Stop and carefully turn around or leave the road safely",
        "Speed up to get out of the way",
        "Park and wait for help in the lane"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/One_Way_Sign.png",
      question: "What does this one way sign mean?",
      choices: [
        "Traffic moves in only one direction on this street",
        "You may drive any direction you want",
        "Only bikes may use this road",
        "You must stop at the next light"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/No_Left_Turn.png",
      question: "What does this no left turn sign tell drivers?",
      choices: [
        "Left turns are not allowed here",
        "You must turn left",
        "You may only turn left on green",
        "You may park on the left side"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/No_Right_Turn.png",
      question: "What does this no right turn sign tell drivers?",
      choices: [
        "Right turns are not allowed here",
        "You must turn right",
        "You may only turn right on red",
        "You must make a U turn"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/No_U_Turn.png",
      question: "What does this no U turn sign tell drivers?",
      choices: [
        "U turns are not allowed at this location",
        "You must make a U turn",
        "You must drive backward",
        "Only trucks may turn around here"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/No_Parking_Sign.png",
      question: "What does this no parking sign mean?",
      choices: [
        "You may park for only five minutes",
        "Parking is not allowed in this area",
        "Only trucks may park here",
        "You must pay a parking fee"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/No_Passing_Zone.png",
      question: "What does this no passing zone sign mean?",
      choices: [
        "You may pass other cars here",
        "You must drive faster than other traffic",
        "You must not pass other vehicles in this area",
        "Only trucks may pass"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/Do_Not_Pass_Sign.png",
      question: "What does this do not pass sign tell you?",
      choices: [
        "You may pass only on hills",
        "You may never slow down",
        "You must not pass other vehicles on this stretch of road",
        "Only motorcycles may pass"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/Pass_With_Care_Sign.png",
      question: "What does pass with care mean on this sign?",
      choices: [
        "You may pass other vehicles only when it is safe",
        "You must never pass another vehicle",
        "You must pass every car you see",
        "Only trucks may pass"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/Keep_Right_Sign.png",
      question: "What does this keep right sign tell drivers?",
      choices: [
        "You must drive on the left side of the median",
        "You must keep to the right side of the median or divider",
        "You must stop at the median",
        "Only buses may keep right"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Slower_Traffic_Keep_Right.png",
      question: "What does this slower traffic keep right sign mean?",
      choices: [
        "Slow drivers should stay in or move to the right lane",
        "Fast drivers must stay in the right lane",
        "Trucks cannot use the right lane",
        "Cars may park in the right lane"
      ],
      correctIndex: 0
    },
    {
      file: "traffic-signs/Two-Way_Traffic_Sign.png",
      question: "What does this two way traffic sign tell you?",
      choices: [
        "Traffic only moves in one direction",
        "There are cars coming toward you in the other lane",
        "Only trucks can use this road",
        "The road is closed"
      ],
      correctIndex: 1
    },
    {
      file: "traffic-signs/Traffic_Circle.png",
      question: "What should you do when you see this traffic circle sign?",
      choices: [
        "Drive straight through without looking",
        "Always stop and wait for a green light",
        "Prepare to enter a roundabout and yield to traffic already in the circle",
        "Make a U turn before the circle"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/California_Interstate_Sign.png",
      question: "What does this California interstate shield usually mark?",
      choices: [
        "A city street",
        "A local school road",
        "A numbered interstate highway route",
        "A bicycle path"
      ],
      correctIndex: 2
    },
    {
      file: "traffic-signs/Center_Turn_Lane_Sign.png",
      question: "What does a center lane only sign tell drivers?",
      choices: [
        "You may park in the center lane",
        "The center lane is for left turns from both directions",
        "The center lane is for passing only",
        "The center lane is for bikes"
      ],
      correctIndex: 1
    }
  ];

  // Game State
  let currentSignIndex = 0;
  let score = 0;
  let streak = 0;
  let correctAnswers = 0;
  let totalAnswered = 0;
  let hasAnswered = false;
  let studentName = "";
  let schoolName = "";

  // DOM Elements
  const landingPage = document.getElementById("landingPage");
  const quizPage = document.getElementById("quizPage");
  const resultsPage = document.getElementById("resultsPage");
  const studentNameInput = document.getElementById("studentName");
  const schoolNameInput = document.getElementById("schoolName");
  const startQuizBtn = document.getElementById("startQuizBtn");
  const signImage = document.getElementById("signImage");
  const questionText = document.getElementById("questionText");
  const choicesContainer = document.getElementById("choicesContainer");
  const feedback = document.getElementById("feedback");
  const nextButton = document.getElementById("nextButton");
  const scoreDisplay = document.getElementById("scoreDisplay");
  const streakDisplay = document.getElementById("streakDisplay");
  const progressDisplay = document.getElementById("progressDisplay");
  const progressBar = document.getElementById("progressBar");
  const studentNameResult = document.getElementById("studentNameResult");
  const finalScore = document.getElementById("finalScore");
  const accuracyDisplay = document.getElementById("accuracyDisplay");
  const totalQuestions = document.getElementById("totalQuestions");
  const restartButton = document.getElementById("restartButton");

  function updateButtonState() {
    const name = studentNameInput.value.trim();
    const school = schoolNameInput.value.trim();

    if (name && school) {
      startQuizBtn.classList.remove("disabled");
    } else {
      startQuizBtn.classList.add("disabled");
    }
  }

  studentNameInput.addEventListener("input", updateButtonState);
  schoolNameInput.addEventListener("input", updateButtonState);

  studentNameInput.addEventListener("keypress", e => {
    if (e.key === "Enter" && !startQuizBtn.classList.contains("disabled")) {
      startQuiz();
    }
  });

  schoolNameInput.addEventListener("keypress", e => {
    if (e.key === "Enter" && !startQuizBtn.classList.contains("disabled")) {
      startQuiz();
    }
  });

  startQuizBtn.addEventListener("click", () => {
    if (!startQuizBtn.classList.contains("disabled")) {
      startQuiz();
    }
  });

  function startQuiz() {
    studentName = studentNameInput.value.trim();
    schoolName = schoolNameInput.value.trim();

    if (!studentName || !schoolName) return;

    landingPage.classList.add("hidden");
    quizPage.classList.remove("hidden");
    currentSignIndex = 0;
    score = 0;
    streak = 0;
    correctAnswers = 0;
    totalAnswered = 0;
    updateStats();
    loadSign();
  }

  function loadSign() {
    if (currentSignIndex >= signs.length) {
      showResults();
      return;
    }

    const sign = signs[currentSignIndex];
    hasAnswered = false;

    signImage.src = sign.file;
    signImage.alt = sign.question;
    questionText.textContent = sign.question;
    feedback.textContent = "";
    feedback.style.color = "#ffffff";
    nextButton.classList.add("hidden");

    choicesContainer.innerHTML = "";
    sign.choices.forEach((choice, index) => {
      const button = document.createElement("button");
      button.className = "choice-button";
      button.textContent = choice;
      button.onclick = () => handleAnswer(index, sign.correctIndex, button);
      choicesContainer.appendChild(button);
    });
  }

  function handleAnswer(selectedIndex, correctIndex, selectedButton) {
    if (hasAnswered) return;
    hasAnswered = true;
    totalAnswered++;

    const allButtons = choicesContainer.querySelectorAll(".choice-button");
    allButtons.forEach(btn => btn.classList.add("disabled"));

    const isCorrect = selectedIndex === correctIndex;

    if (isCorrect) {
      selectedButton.classList.add("correct");
      correctAnswers++;
      score += 10;
      streak++;
      feedback.textContent = "Perfect. That is correct.";
      feedback.style.color = "#22c55e";
      showCelebration();
    } else {
      selectedButton.classList.add("wrong");
      allButtons[correctIndex].classList.add("correct");
      streak = 0;
      feedback.textContent = "Nice try. The correct answer is highlighted.";
      feedback.style.color = "#ef4444";
    }

    updateStats();
    nextButton.classList.remove("hidden");
  }

  function showCelebration() {
    const celebration = document.createElement("div");
    celebration.className = "celebration";
    const emojis = ["ðŸŽ‰", "ðŸŒŸ", "â­", "âœ¨"];
    celebration.textContent = emojis[Math.floor(Math.random() * emojis.length)];
    document.body.appendChild(celebration);

    setTimeout(() => celebration.remove(), 600);
  }

  function updateStats() {
    scoreDisplay.textContent = score;
    streakDisplay.textContent = streak > 0 ? `${streak}ðŸ”¥` : "0";

    const progress = signs.length
      ? Math.round((totalAnswered / signs.length) * 100)
      : 0;
    progressDisplay.textContent = `${progress}%`;
    progressBar.style.width = `${progress}%`;
  }

  nextButton.addEventListener("click", () => {
    currentSignIndex++;
    loadSign();
  });

  function showResults() {
    quizPage.classList.add("hidden");
    resultsPage.classList.remove("hidden");

    studentNameResult.textContent = `Great work, ${studentName}!`;
    finalScore.textContent = score;
    totalQuestions.textContent = signs.length;

    const accuracy = signs.length
      ? Math.round((correctAnswers / signs.length) * 100)
      : 0;
    accuracyDisplay.textContent = `${accuracy}%`;
  }

  restartButton.addEventListener("click", () => {
    resultsPage.classList.add("hidden");
    landingPage.classList.remove("hidden");

    studentNameInput.value = "";
    schoolNameInput.value = "";
    updateButtonState();
  });
</script>

</body>
</html>
